; Fixed version
(let x 10)

(fn foo () x)

(fn bar () 
    (block
        (assign x 20)
        (+ (foo) x)))

(print "Initial x:" x)
(print "foo() returns:" (foo))
(print "bar() returns:" (bar))
(print "After bar, x is:" x)
(print "foo() now returns:" (foo))
